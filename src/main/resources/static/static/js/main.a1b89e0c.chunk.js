(this["webpackJsonpfront-librodeoro"]=this["webpackJsonpfront-librodeoro"]||[]).push([[0],{38:function(e,a,t){e.exports=t(57)},49:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(23),o=t.n(r),l=t(1),i=t(2),u=t(11),m=t(12),s=t(6),d=t.n(s),p=t(9),E="[Auth] Login",f="[Auth] Logout",v="[Grupos] Load grupos",b="[Grupos] Remove grupos",h="[Ramas] Load ramas",g="[Ramas] Remove ramas",N="[Secciones] Load secciones",O="[Secciones] Remove secciones",j="[Cargos] Load cargos",C="[Cargos] Remove cargos",y=t(58),R=function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{headers:{Authorization:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=t(18),A=t.n(k),S=function(){A.a.fire({title:"Cargando...",text:"Espere un momento...",allowOutsideClick:!1,onBeforeOpen:function(){A.a.showLoading()}})},x=function(e){A.a.fire("\xc9xito",e,"success")},w=function(e,a){A.a.fire({title:"\xc9xito",text:e,icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then((function(e){e.isConfirmed&&a()}))},G=function(){A.a.close()},I=function(e,a){A.a.fire({title:"\xbfEsta seguro?",text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&a()}))},_=function(e,a){var t,n;P()&&(D(),G(),e.status&&e.status===y.a.FORBIDDEN?(t="La session ha expirado, por favor vuelva a iniciar sesion",n=function(){a(V()),L()},A.a.fire({title:"Cuidado!",html:t,timer:3e3,timerProgressBar:!0,willOpen:function(){A.a.showLoading()},onClose:function(){n(),clearInterval(void 0)}})):void 0!=e.status&&e.status!=y.a.INTERNAL_SERVER_ERROR?e.text().then((function(e){T(e)})):T("Ha ocurrido un error interno por favor comuniquese con el administrador"))},T=function(e){var a;a=e,A.a.fire("Error",a,"error"),L()},P=function(){var e=localStorage.getItem("activeWarningFunc");return null===e||"I"===e},D=function(){localStorage.setItem("activeWarningFunc","A")},L=function(){localStorage.setItem("activeWarningFunc","I")},F=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R("".concat("/").concat("api/grupo")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){t.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion})}))})).catch((function(e){_(e,a)}));case 3:a(U(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},U=function(e){return{type:v,payload:e}},M=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R("".concat("/").concat("api/rama")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var a,n;t.push({id:e.id,nombre:e.nombre,edadMinima:e.edadMinima,edadMaxima:e.edadMaxima,descripcion:e.descripcion,idGrupo:null===(a=e.grupo)||void 0===a?void 0:a.id,nombreGrupo:null===(n=e.grupo)||void 0===n?void 0:n.nombre})}))})).catch((function(e){_(e,a)}));case 3:a(z(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},z=function(e){return{type:h,payload:e}},B=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R("".concat("/").concat("api/seccion")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var a,n,c,r,o,l;t.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion,idRama:null===(a=e.rama)||void 0===a?void 0:a.id,nombreRama:null===(n=e.rama)||void 0===n?void 0:n.nombre,idGrupo:null===(c=e.rama)||void 0===c||null===(r=c.grupo)||void 0===r?void 0:r.id,nombreGrupo:null===(o=e.rama)||void 0===o||null===(l=o.grupo)||void 0===l?void 0:l.nombre})}))})).catch((function(e){_(e,a)}));case 3:a(K(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},K=function(e){return{type:N,payload:e}},q=function(){var e=Object(p.a)(d.a.mark((function e(a,t,n,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:t,headers:{"Content-Type":"application/json",Authorization:c},body:n?JSON.stringify(n):void 0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(a,t,n,c){return e.apply(this,arguments)}}(),V=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:b}),a({type:g}),a({type:O}),a(W()),Y();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},W=function(){return{type:f}},Q=function(e){return{type:E,payload:e}},X=function(e){localStorage.setItem("usuario",e.usuario),localStorage.setItem("token",e.token),localStorage.setItem("tipoUsuario",e.tipoUsuario)},Y=function(){localStorage.removeItem("usuario"),localStorage.removeItem("token"),localStorage.removeItem("tipoUsuario")},J=function(){var e=Object(l.b)();return c.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("span",{className:"nav-item nav-link text-info"}),c.a.createElement("button",{onClick:function(){e(V())},className:"nav-item nav-link btn"},"Cerrar Sesion")))},H=function(e){var a=e.authReducer;return c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},c.a.createElement("ul",{className:"navbar-nav"},"AD"===a.tipoUsuario&&c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Mestros"),c.a.createElement("div",{className:"dropdown-menu background_libro_oro","aria-labelledby":"navbarDropdownMenuLink"},c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/grupo"},"Grupos"),c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/rama"},"Ramas"),c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/seccion"},"Seccion"))),"IN"===a.tipoUsuario&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement(u.c,{className:"nav-item nav-link",exact:!0,to:"/usuario-update"},"Usuario"))),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Administracion de Anecdotas"),c.a.createElement("div",{className:"dropdown-menu background_libro_oro","aria-labelledby":"navbarDropdownMenuLink"},"IN"===a.tipoUsuario&&c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/anecdota"},"Creacion de Anecdotas"),c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/anecdota-listado"},"Listado de Anecdotas")))))},Z=function(){var e,a=null===(e=Object(l.c)((function(e){return e})))||void 0===e?void 0:e.authReducer;return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark background_libro_oro"},c.a.createElement(u.b,{className:"navbar-brand",to:"/"},"Libro de Oro Scouts"),(null===a||void 0===a?void 0:a.usuario)&&c.a.createElement(H,{authReducer:a}),(null===a||void 0===a?void 0:a.usuario)&&c.a.createElement(J,null))},$=t(26),ee=t(7),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(i.a)(a,2),c=t[0],r=t[1],o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(a)},l=function(e){var a=e.target;r(Object(ee.a)(Object(ee.a)({},c),{},Object($.a)({},a.name,a.value)))},u=function(e){e&&r(e)};return[c,l,u,o]},te=function(){var e=Object(m.g)(),a=Object(l.b)(),t=ae({usuario:"",contrasena:""}),n=Object(i.a)(t,2),r=n[0],o=n[1];return c.a.createElement("div",{className:"row m-5 justify-content-center align-items-center"},c.a.createElement("div",{className:"col-sm-6 col-md-4 col-md-offset-4"},c.a.createElement("div",{className:"account-wall"},c.a.createElement("img",{className:"profile-img",src:"https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120",alt:""}),c.a.createElement("form",{className:"form-signin"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"usuario",value:r.usuario,onChange:o}),c.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"contrasena",value:r.contrasena,onChange:o}),c.a.createElement("button",{onClick:function(e){var t,n;e.preventDefault(),a((t=r.usuario,n=r.contrasena,function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,q("".concat("/").concat("api/auth"),"POST",{usuario:t,contrasena:n}).then((function(e){e.status===y.a.OK?e.json().then((function(e){G(),a(Q(e)),X(e)})):_(e,a)})).catch((function(e){_(e,a)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()))},className:"btn btn-lg btn-primary btn-block"}," Acceder ")),c.a.createElement("a",{onClick:function(){e.replace("/usuario-create")},className:"text-center new-account"},"Crear un Usuario "))))},ne=(t(49),function(){return c.a.createElement("div",{className:"content h-100 animate__animated animate__slideInLeft"},c.a.createElement(te,null))}),ce=t(4),re=t(5),oe=function(e){var a=e.formValues,t=Object(m.g)(),n=Object(l.b)();return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return t.replace("/auth/login")},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Login"),"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario"),"POST",a).then((function(e){e.status===y.a.CREATED?e.json().then((function(){G(),w("Usuario creado con exito, intente ingresar desde la pantalla login.",(function(){t.replace("/auth/login")}))})):_(e,n)})).catch((function(e){_(e,n)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar"))},le=function(e){var a=e.setWizard,t=e.setUsuario,n=e.formValues,r=e.authReducer,o=Object(l.b)();return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario","/validate"),"POST",n,null===r||void 0===r?void 0:r.token).then((function(e){e.status===y.a.OK?e.json().then((function(e){G(),e.valid&&(a(2),t(Object(ee.a)({},n)))})):_(e,o)})).catch((function(e){_(e,o)}))},className:"btn btn-primary"},"Siguiente ",c.a.createElement(ce.a,{icon:re.b})))},ie=function(e){var a=e.setWizard,t=e.usuario,n=e.setUsuario,r=e.formType,o=e.authReducer,l=ae(t),u=Object(i.a)(l,2),m=u[0],s=u[1],d=function(e){return m.tipoIntegrante===e};return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Informacion General"),c.a.createElement("hr",null),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Nombres"),c.a.createElement("input",{type:"text",name:"nombres",className:"form-control",value:m.nombres,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Apellidos"),c.a.createElement("input",{type:"text",name:"apellidos",className:"form-control",value:m.apellidos,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Correo"),c.a.createElement("input",{type:"text",name:"correo",className:"form-control",value:m.correo,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Telefono"),c.a.createElement("input",{type:"text",name:"telefono",className:"form-control",value:m.telefono,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Tipo Integrante"),c.a.createElement("div",null,c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"tipoIntegrante",value:"AC",onChange:s,checked:d("AC")}),c.a.createElement("label",{className:"form-check-label"},"Activo")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"tipoIntegrante",value:"EX",onChange:s,checked:d("EX")}),c.a.createElement("label",{className:"form-check-label"},"Ex-integrante"))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Direccion"),c.a.createElement("input",{type:"text",name:"direccion",className:"form-control",value:m.direccion,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Ciudad"),c.a.createElement("input",{type:"text",name:"ciudad",className:"form-control",value:m.ciudad,onChange:s})),"CR"===r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Usuario"),c.a.createElement("input",{type:"text",name:"usuario",className:"form-control",value:m.usuario,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Contrase\xf1a"),c.a.createElement("input",{type:"password",name:"contrasena",className:"form-control",value:m.contrasena,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Confirmar Contrase\xf1a"),c.a.createElement("input",{type:"password",name:"confirmContrasena",className:"form-control",value:m.confirmContrasena,onChange:s}))))),"CR"===r&&c.a.createElement(oe,{formValues:m}),"UP"===r&&c.a.createElement(le,{setWizard:a,setUsuario:n,formValues:m,authReducer:o}))},ue=function(){var e={usuario:"",contrasena:"",confirmContrasena:"",nombres:"",apellidos:"",tipoIntegrante:"",correo:"",telefono:"",direccion:"",ciudad:"",tipoUsuario:"IN"};return c.a.createElement("div",{className:"container mt-2"},c.a.createElement(ie,{usuario:e,formType:"CR"}))},me=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/auth/login",component:ne}),c.a.createElement(m.b,{exact:!0,path:"/usuario-create",component:ue}),c.a.createElement(m.a,{to:"/auth/login"})))},se=t(35),de=t.n(se),pe=function(e){var a=e.anecdota;return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombreGrupo),c.a.createElement("td",null,a.nombreRama),c.a.createElement("td",null,a.nombreGrupo),c.a.createElement("td",null,a.nombreSeccion),c.a.createElement("td",null,a.fechaSuceso),c.a.createElement("td",null,a.usuarioRegistro),c.a.createElement("td",null,a.estado),c.a.createElement("td",null,a.usuarioGestion),c.a.createElement("td",null))},Ee=function(e){var a=e.page,t=e.setPage,n=e.totalItems,r=e.anecdotas;return c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Rama"),c.a.createElement("th",{scope:"col"},"Seccion"),c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Fecha Suceso"),c.a.createElement("th",{scope:"col"},"Usuario Registro"),c.a.createElement("th",{scope:"col"},"Estado"),c.a.createElement("th",{scope:"col"},"Usuario Gestion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,r&&r.map((function(e){return c.a.createElement(pe,{key:e.idAnecdota,anecdota:e})})))),c.a.createElement(de.a,{itemClass:"page-item",linkClass:"page-link",activePage:a,itemsCountPerPage:4,pageRangeDisplayed:4,totalItemsCount:n,onChange:function(e){t(e)}}))},fe=function(e,a){return e.filter((function(e){return e.id!==a}))},ve=function(e,a){return e.filter((function(e){return e.id==a}))},be=function(e,a){return e.filter((function(e){return e.idGrupo==a}))},he=function(e,a){return e.filter((function(e){return e.idRama==a}))},ge=function(e,a,t,n){return e.filter((function(e){return e.idGrupo==a||e.idRama==t||e.idSeccion==n}))},Ne=function(e){var a=e.setAplicacionFiltros,t=e.setFiltros,r=Object(l.c)((function(e){return e})),o=r.grupoReducer.grupos,u=r.ramaReducer.ramas,m=r.seccionReducer.secciones,s=Object(n.useState)([]),d=Object(i.a)(s,2),p=d[0],E=d[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),b=v[0],h=v[1],g=ae({}),N=Object(i.a)(g,3),O=N[0],j=N[1];N[2];Object(n.useEffect)((function(){E(be(u,O.grupo))}),[O.grupo]),Object(n.useEffect)((function(){h(he(m,O.rama))}),[O.rama]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"idGrupo",className:"form-control",onChange:j},c.a.createElement("option",{value:"0"},"Seleccione un grupo"),o&&o.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"idRama",className:"form-control",onChange:j},c.a.createElement("option",{value:"0"},"Seleccione una rama"),p&&p.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Seccion"),c.a.createElement("select",{name:"idSeccion",className:"form-control",onChange:j},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),b&&b.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("label",null,"Fecha Inicio"),c.a.createElement("input",{type:"date",name:"fechaInicioAnecdota",className:"form-control",value:O.fecha,onChange:j})),c.a.createElement("div",{className:"col-6"},c.a.createElement("label",null,"Fecha Fin"),c.a.createElement("input",{type:"date",name:"fechaFinAnecdota",className:"form-control",value:O.fecha,onChange:j})))),c.a.createElement("div",{className:"col-4"},c.a.createElement("label",null,"Estado Anecdota"),c.a.createElement("select",{name:"estado",className:"form-control",onChange:j},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),c.a.createElement("option",{value:"PA"},"Pendiente aprobacion"),c.a.createElement("option",{value:"AP"},"Aprobado"),c.a.createElement("option",{value:"RE"},"Rechazado"),c.a.createElement("option",{value:"PM"},"Pendiente de modificacion"))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("label",null,"Usuario"),c.a.createElement("input",{type:"text",name:"usuarioFilter",className:"form-control",value:O.fecha,onChange:j})),c.a.createElement("div",{className:"col-6"},c.a.createElement("button",{onClick:function(){a(!0),t(Object(ee.a)({},O))},className:"btn btn-primary mt-4"},c.a.createElement(ce.a,{icon:re.g})," Buscar"))))))},Oe=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e})).authReducer,t=Object(n.useState)(1),r=Object(i.a)(t,2),o=r[0],u=r[1],m=Object(n.useState)(0),s=Object(i.a)(m,2),E=s[0],f=s[1],v=Object(n.useState)([]),b=Object(i.a)(v,2),h=b[0],g=b[1],N=Object(n.useState)({}),O=Object(i.a)(N,2),j=O[0],C=O[1],k=Object(n.useState)(!1),A=Object(i.a)(k,2),x=A[0],w=A[1];Object(n.useEffect)((function(){T()}),[o]),Object(n.useEffect)((function(){x&&(T(),w(!1))}),[x]);var I=function(){var e="?usuarioOwner=".concat(null===a||void 0===a?void 0:a.usuario,"&typeUsuarioOwner=").concat(null===a||void 0===a?void 0:a.tipoUsuario,"&page=").concat(o);return j.idGrupo&&e.concat("&idGrupo="+j.idGrupo),j.idRama&&e.concat("&idRama="+j.idRama),j.idSeccion&&e.concat("&idSeccion="+j.idRama),j.fechaInicioAnecdota&&e.concat("&fechaInicioAnecdota="+j.fechaInicioAnecdota),j.fechaFinAnecdota&&e.concat("&fechaFinAnecdota="+j.fechaFinAnecdota),j.estado&&(e+="&estado="+j.estado),j.usuarioFilter&&e.concat("&usuarioFilter="+j.usuarioFilter),e},T=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(),t.next=3,R("".concat("/").concat("api/anecdota").concat(I()),null===a||void 0===a?void 0:a.token).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){G(),g(e.dataGrid),f(e.totalItems)})).catch((function(a){_(a,e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Listado de Anecdotas"),c.a.createElement("hr",null),c.a.createElement(Ne,{setAplicacionFiltros:w,setFiltros:C}),c.a.createElement(Ee,{page:o,setPage:u,totalItems:E,anecdotas:h}))},je=t(36),Ce=t.n(je),ye=function(){var e=Object(m.g)(),a=Object(l.b)(),t=Object(l.c)((function(e){return e})),r=t.grupoReducer.grupos,o=t.ramaReducer.ramas,u=t.seccionReducer.secciones,s=t.authReducer,d=s.usuario,p=s.token,E=Object(n.useState)([]),f=Object(i.a)(E,2),v=f[0],b=f[1],h=Object(n.useState)([]),g=Object(i.a)(h,2),N=g[0],O=g[1],j=ae({}),C=Object(i.a)(j,2),R=C[0],k=C[1];Object(n.useEffect)((function(){b(be(o,R.grupo))}),[R.grupo]),Object(n.useEffect)((function(){O(he(u,R.rama))}),[R.rama]);var A=function(e){return R&&R.grupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"grupo",className:"form-control",onChange:k},c.a.createElement("option",{value:"0",selected:A(0)},"Seleccione un grupo"),r&&r.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:A(e.id)},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"rama",className:"form-control",onChange:k},c.a.createElement("option",{value:"0"},"Seleccione una rama"),v&&v.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Seccion"),c.a.createElement("select",{name:"seccion",className:"form-control",onChange:k},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),N&&N.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:R.nombre,onChange:k}),c.a.createElement("label",null,"Fecha"),c.a.createElement("input",{type:"date",name:"fecha",className:"form-control",value:R.fecha,onChange:k}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:R.descripcion,onChange:k})),c.a.createElement("div",{className:"col-6"})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{onClick:function(){S();var t=Object(ee.a)(Object(ee.a)({},R),{},{fecha:Ce()(R.fecha).format("DD/MM/YYYY"),usuario:d});q("".concat("/").concat("api/anecdota"),"POST",t,p).then((function(t){t.status===y.a.CREATED?t.json().then((function(){G(),w("Anecdota creada exitosamente. La anecdota entra en estado <b>PENDIENTE DE APROBACION</b>",(function(){e.replace("/")}))})):_(t,a)})).catch((function(e){_(e,a)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Re=function(){return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Anecdota"),c.a.createElement(ye,null))},ke=t(14),Ae=function(e){var a=e.setCargos,t=e.cargoActive,r=e.setCargoActive,o=e.typecargo,u=e.typeId,s=e.initialCargo,d=Object(m.g)(),p=Object(l.b)(),E=Object(l.c)((function(e){return e})).authReducer,f=ae(s),v=Object(i.a)(f,4),b=v[0],h=v[1],g=v[2],N=v[3];Object(n.useEffect)((function(){t.id&&g(t)}),[t]);var O=function(){q("".concat("/").concat("api/cargo","/type/").concat(o,"/id/").concat(u),"POST",b,null===E||void 0===E?void 0:E.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(e){a((function(a){return[e].concat(Object(ke.a)(a))})),G(),x("Cargo creado con exito"),C()})):_(e,p)})).catch((function(e){_(e,p)}))},j=function(e){q("".concat("/").concat("api/cargo","/").concat(e),"PUT",b,null===E||void 0===E?void 0:E.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(e){a((function(a){return[e].concat(Object(ke.a)(fe(a,e.id)))})),G(),x("Cargo actualizado con exito"),C()})):_(e,p)})).catch((function(e){_(e,p)}))},C=function(){r(s),N(s)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:b.nombre,onChange:h}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:b.descripcion,onChange:h})),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){switch(o){case"GR":d.replace("/grupo");break;case"RA":d.replace("/rama");break;case"SE":d.replace("/seccion")}},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Volver"),"\xa0\xa0",c.a.createElement("button",{onClick:C,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===b.id?O():j(b.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Se=function(e){var a=e.cargo,t=e.setCargos,n=e.setCargoActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer;return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombre),c.a.createElement("td",null,a.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(a)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){I("Quiere eliminar el cargo ".concat(a.nombre),(function(){S(),q("".concat("/").concat("api/cargo","/").concat(a.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(t((function(e){return fe(e,a.id)})),G(),x("Cargo eliminado con exito")):_(e,r)})).catch((function(e){_(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.h})))))},xe=function(e){var a=e.cargos,t=e.setCargos,r=e.setCargoActive,o=e.typecargo,i=e.typeId,u=Object(l.b)(),m=Object(l.c)((function(e){return e})).authReducer,s=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,R("".concat("/").concat("api/cargo","/type/").concat(o,"/id/").concat(i),null===m||void 0===m?void 0:m.token).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){G(),e.length>0&&t(e)})).catch((function(e){_(e,u)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,a&&a.map((function(e){return c.a.createElement(Se,{key:e.id,cargo:e,setCargos:t,setCargoActive:r})})))))},we=function(){var e,a,t,r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],s=o[1],d=Object(n.useState)({}),p=Object(i.a)(d,2),E=p[0],f=p[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),h=b[0],g=b[1],N=Object(n.useState)({}),O=Object(i.a)(N,2),j=O[0],C=O[1],y=Object(m.h)(),R=y.typecargo,k=y.typeId,A=null===(e=Object(l.c)((function(e){return e})))||void 0===e?void 0:e.grupoReducer,S=null===(a=Object(l.c)((function(e){return e})))||void 0===a?void 0:a.ramaReducer,x=null===(t=Object(l.c)((function(e){return e})))||void 0===t?void 0:t.seccionReducer;return Object(n.useEffect)((function(){var e=null===A||void 0===A?void 0:A.grupos;(null===e||void 0===e?void 0:e.length)>0&&"GR"===R&&(g("Cargos del grupo: "),C(ve(e,k)[0]))}),[A]),Object(n.useEffect)((function(){var e=null===S||void 0===S?void 0:S.ramas;(null===e||void 0===e?void 0:e.length)>0&&"RA"===R&&(g("Cargos de la rama: "),C(ve(e,k)[0]))}),[S]),Object(n.useEffect)((function(){var e=null===x||void 0===x?void 0:x.secciones;(null===e||void 0===e?void 0:e.length)>0&&"SE"===R&&(g("Cargos de la seccion: "),C(ve(e,k)[0]))}),[x]),c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("p",{style:{fontSize:"37px"}},c.a.createElement("b",null,h)," ",j.nombre),c.a.createElement("hr",null),c.a.createElement(Ae,{setCargos:s,cargoActive:E,setCargoActive:f,typecargo:R,typeId:k,initialCargo:{id:0,nombre:"",descripcion:""}}),c.a.createElement(xe,{cargos:u,setCargos:s,setCargoActive:f,typecargo:R,typeId:k}))},Ge=function(e){var a=e.grupoActive,t=e.setGrupoActive,r=e.initialGrupo,o=Object(l.b)(),u=Object(l.c)((function(e){return e})).authReducer,m=ae(r),s=Object(i.a)(m,4),d=s[0],p=s[1],E=s[2],f=s[3];Object(n.useEffect)((function(){a.id&&E(a)}),[a]);var v=function(){q("".concat("/").concat("api/grupo"),"POST",d,null===u||void 0===u?void 0:u.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){G(),x("Grupo creado con exito"),o(F()),h()})):_(e,o)})).catch((function(e){_(e,o)}))},b=function(e){q("".concat("/").concat("api/grupo","/").concat(e),"PUT",d,null===u||void 0===u?void 0:u.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(e){G(),x("Grupo actualizado con exito"),o(F()),h()})):_(e,o)})).catch((function(e){_(e,o)}))},h=function(){t(r),f(r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:d.nombre,onChange:p}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:d.descripcion,onChange:p})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{onClick:h,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===d.id?v():b(d.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Ie=t(3),_e=t.n(Ie),Te=function(e){var a=e.grupo,t=e.setGrupos,n=e.setGrupoActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombre),c.a.createElement("td",null,a.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(a)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){I("Quiere eliminar el grupo ".concat(a.nombre),(function(){S(),q("".concat("/").concat("api/grupo","/").concat(a.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(t((function(e){return fe(e,a.id)})),G(),x("Grupo eliminado con exito"),r(F())):_(e,r)})).catch((function(e){_(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.h})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("GR","/id/").concat(a.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.i})))))};Te.prototype={grupo:_e.a.object.isRequired,setGrupos:_e.a.func.isRequired,setGrupoActive:_e.a.func.isRequired};var Pe=function(e){var a=e.grupos,t=e.setGrupos,r=e.setGrupoActive,o=Object(l.c)((function(e){return e})).grupoReducer;return Object(n.useEffect)((function(){t(null===o||void 0===o?void 0:o.grupos)}),[o]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,a&&a.map((function(e){return c.a.createElement(Te,{key:e.id,grupo:e,setGrupos:t,setGrupoActive:r})})))))},De=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),u=l[0],m=l[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Grupos"),c.a.createElement("hr",null),c.a.createElement(Ge,{grupoActive:u,setGrupoActive:m,initialGrupo:{id:0,nombre:"",descripcion:""}}),c.a.createElement(Pe,{grupos:t,setGrupos:r,setGrupoActive:m}))},Le=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e})).authReducer;Object(n.useEffect)((function(){t()}),[]);var t=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R("".concat("/").concat("api/auth"),null===a||void 0===a?void 0:a.token).then((function(e){if(e.status!=y.a.OK)return new Promise((function(a,t){return t({status:e.status})}))})).catch((function(a){_(a,e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",null)},Fe=function(e){var a=e.ramaActive,t=e.setRamaActive,r=e.initialRama,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.authReducer,d=ae(r),p=Object(i.a)(d,4),E=p[0],f=p[1],v=p[2],b=p[3];Object(n.useEffect)((function(){a.id&&v(a)}),[a]);var h=function(){q("".concat("/").concat("api/rama","/grupo/").concat(E.idGrupo),"POST",E,null===s||void 0===s?void 0:s.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){G(),x("Rama creada con exito"),o(M()),N()})):_(e,o)})).catch((function(e){_(e,o)}))},g=function(e){q("".concat("/").concat("api/rama","/").concat(e),"PUT",E,null===s||void 0===s?void 0:s.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){G(),x("Rama actualizada con exito"),o(M()),N()})):_(e,o)})).catch((function(e){_(e,o)}))},N=function(){t(r),b(r)},O=function(e){return E&&E.idGrupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"idGrupo",className:"form-control",onChange:f},c.a.createElement("option",{value:"0",selected:O(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:O(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:E.nombre,onChange:f}))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",null,"Edad Minima"),c.a.createElement("input",{type:"number",name:"edadMinima",className:"form-control",value:E.edadMinima,onChange:f})),c.a.createElement("div",{className:"col-3"},c.a.createElement("label",null,"Edad Maxima"),c.a.createElement("input",{type:"number",name:"edadMaxima",className:"form-control",value:E.edadMaxima,onChange:f}))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:E.descripcion,onChange:f})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:N,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===E.id?h():g(E.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Ue=function(e){var a=e.rama,t=e.setRamas,n=e.setRamaActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombreGrupo),c.a.createElement("td",null,a.nombre),c.a.createElement("td",null,a.edadMinima),c.a.createElement("td",null,a.edadMaxima),c.a.createElement("td",null,a.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(a)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){I("Quiere eliminar la rama ".concat(a.nombre),(function(){S(),q("".concat("/").concat("api/rama","/").concat(a.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(t((function(e){return fe(e,a.id)})),G(),x("Rama eliminada con exito"),r(M())):_(e,r)})).catch((function(e){_(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.h})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("RA","/id/").concat(a.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.i})))))};Ue.prototype={rama:_e.a.object.isRequired,setRamas:_e.a.func.isRequired,setRamaActive:_e.a.func.isRequired};var Me=function(e){var a=e.ramas,t=e.setRamas,r=e.setRamaActive,o=Object(l.c)((function(e){return e})).ramaReducer;return Object(n.useEffect)((function(){t(null===o||void 0===o?void 0:o.ramas)}),[o]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Edad Minima"),c.a.createElement("th",{scope:"col"},"Edad Maxima"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,a&&a.map((function(e){return c.a.createElement(Ue,{key:e.id,rama:e,setRamas:t,setRamaActive:r})})))))},ze=function(){var e={id:0,nombre:"",edadMinima:0,edadMaxima:0,descripcion:"",idGrupo:0,nombreGrupo:""},a=Object(n.useState)([]),t=Object(i.a)(a,2),r=t[0],o=t[1],l=Object(n.useState)(e),u=Object(i.a)(l,2),m=u[0],s=u[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Ramas"),c.a.createElement("hr",null),c.a.createElement(Fe,{ramaActive:m,setRamaActive:s,initialRama:e}),c.a.createElement(Me,{ramas:r,setRamas:o,setRamaActive:s}))},Be=function(e){var a=e.seccionActive,t=e.setSeccionActive,r=e.initialSeccion,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.ramaReducer.ramas,d=u.authReducer,p=Object(n.useState)([]),E=Object(i.a)(p,2),f=E[0],v=E[1],b=ae(r),h=Object(i.a)(b,4),g=h[0],N=h[1],O=h[2],j=h[3];Object(n.useEffect)((function(){v(be(s,g.idGrupo))}),[g.idGrupo]),Object(n.useEffect)((function(){a.id&&O(a)}),[a]);var C=function(){q("".concat("/").concat("api/seccion","/rama/").concat(g.idRama),"POST",g,null===d||void 0===d?void 0:d.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){G(),x("Seccion creada con exito"),o(B()),k()})):_(e,o)})).catch((function(e){_(e,o)}))},R=function(e){q("".concat("/").concat("api/seccion","/").concat(e),"PUT",g,null===d||void 0===d?void 0:d.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){G(),x("Seccion actualizada con exito"),o(B()),k()})):_(e,o)})).catch((function(e){_(e,o)}))},k=function(){t(r),j(r)},A=function(e){return g&&g.idGrupo===e?"selected":""},w=function(e){return g&&g.idRama===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"idGrupo",className:"form-control",onChange:N},c.a.createElement("option",{value:"0",selected:A(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:A(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"idRama",className:"form-control",onChange:N},c.a.createElement("option",{value:"0",selected:w(0)},"Seleccione una rama"),f&&f.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:w(e.id)},e.nombre)}))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:g.nombre,onChange:N})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:g.descripcion,onChange:N})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:k,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===g.id?C():R(g.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Ke=function(e){var a=e.seccion,t=e.setSecciones,n=e.setSeccionActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombreGrupo),c.a.createElement("td",null,a.nombreRama),c.a.createElement("td",null,a.nombre),c.a.createElement("td",null,a.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(a)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){I("Quiere eliminar la seccion ".concat(a.nombre),(function(){S(),q("".concat("/").concat("api/seccion","/").concat(a.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(t((function(e){return fe(e,a.id)})),G(),x("Seccion eliminada con exito"),r(B())):_(e,r)})).catch((function(e){_(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.h})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("SE","/id/").concat(a.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.i})))))};Ke.prototype={seccion:_e.a.object.isRequired,setSecciones:_e.a.func.isRequired,setSeccionActive:_e.a.func.isRequired};var qe=function(e){var a,t=e.secciones,r=e.setSecciones,o=e.setSeccionActive,i=null===(a=Object(l.c)((function(e){return e})))||void 0===a?void 0:a.seccionReducer;return Object(n.useEffect)((function(){r(null===i||void 0===i?void 0:i.secciones)}),[i]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Rama"),c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(Ke,{key:e.id,seccion:e,setSecciones:r,setSeccionActive:o})})))))},Ve=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),u=l[0],m=l[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Secciones"),c.a.createElement("hr",null),c.a.createElement(Be,{seccionActive:u,setSeccionActive:m,initialSeccion:{id:0,nombre:"",descripcion:"",idRama:0,nombreRama:"",idGrupo:0,nombreGrupo:""}}),c.a.createElement(qe,{secciones:t,setSecciones:r,setSeccionActive:m}))},We=function(e){var a=e.setTrayectorias,t=e.initialTrayectoria,r=e.authReducer,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.ramaReducer.ramas,d=u.seccionReducer.secciones,p=u.cargoReducer.cargos,E=Object(n.useState)([]),f=Object(i.a)(E,2),v=f[0],b=f[1],h=Object(n.useState)([]),g=Object(i.a)(h,2),N=g[0],O=g[1],j=Object(n.useState)([]),C=Object(i.a)(j,2),R=C[0],k=C[1],A=ae(t),x=Object(i.a)(A,3),w=x[0],I=x[1],T=x[2];Object(n.useEffect)((function(){b(be(s,w.grupo)),k(ge(p,w.grupo,w.rama,w.seccion))}),[w.grupo]),Object(n.useEffect)((function(){O(he(d,w.rama)),k(ge(p,w.grupo,w.rama,w.seccion))}),[w.rama]),Object(n.useEffect)((function(){k(ge(p,w.grupo,w.rama,w.seccion))}),[w.seccion]);var P=function(){a((function(e){var a,t,n,c;return[Object(ee.a)(Object(ee.a)({},w),{},{id:e.length+1,nombreGrupo:null===(a=ve(m,w.grupo)[0])||void 0===a?void 0:a.nombre,nombreRama:null===(t=ve(s,w.rama)[0])||void 0===t?void 0:t.nombre,nombreSeccion:null===(n=ve(d,w.seccion)[0])||void 0===n?void 0:n.nombre,nombreCargo:null===(c=ve(p,w.cargo)[0])||void 0===c?void 0:c.nombre})].concat(Object(ke.a)(e))})),T(t)},D=function(e){return w&&w.grupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"grupo",className:"form-control",onChange:I},c.a.createElement("option",{value:"0",selected:D(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:D(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"rama",className:"form-control",onChange:I},c.a.createElement("option",{value:"0"},"Seleccione una rama"),v&&v.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Seccion"),c.a.createElement("select",{name:"seccion",className:"form-control",onChange:I},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),N&&N.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Cargo"),c.a.createElement("select",{name:"cargo",className:"form-control",onChange:I},c.a.createElement("option",{value:"0"},"Seleccione un grupo"),R&&R.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"A\xf1o Ingreso"),c.a.createElement("input",{type:"number",name:"anioIngreso",className:"form-control",value:w.anioIngreso,onChange:I})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"A\xf1o Retiro"),c.a.createElement("input",{type:"number",name:"anioRetiro",className:"form-control",value:w.anioRetiro,onChange:I})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario","/trayectoria/validate"),"POST",w,null===r||void 0===r?void 0:r.token).then((function(e){e.status===y.a.OK?e.json().then((function(){G(),P()})):_(e,o)})).catch((function(e){_(e,o)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.e})," Agregar")))},Qe=function(e){var a=e.trayectoria,t=e.setTrayectorias;return c.a.createElement("tr",null,c.a.createElement("td",null,a.nombreGrupo),c.a.createElement("td",null,a.nombreRama),c.a.createElement("td",null,a.nombreSeccion),c.a.createElement("td",null,a.nombreCargo),c.a.createElement("td",null,a.anioIngreso),c.a.createElement("td",null,a.anioRetiro),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{onClick:function(){t((function(e){return fe(e,a.id)}))},className:"col-2",title:"Eliminar"},c.a.createElement(ce.a,{icon:re.h})))))},Xe=function(e){var a=e.trayectorias,t=e.setTrayectorias;return c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Rama"),c.a.createElement("th",{scope:"col"},"Seccion"),c.a.createElement("th",{scope:"col"},"Cargo"),c.a.createElement("th",{scope:"col"},"A\xf1o Ingreso"),c.a.createElement("th",{scope:"col"},"A\xf1o Retiro"),c.a.createElement("th",{scope:"col"},"Retirar"))),c.a.createElement("tbody",null,a&&a.map((function(e){return c.a.createElement(Qe,{key:e.id,trayectoria:e,setTrayectorias:t})})))))},Ye=function(e){var a=e.setWizard,t=e.trayectorias,n=e.setTrayectorias,r=e.usuario,o=e.authReducer,i=Object(m.g)(),u=Object(l.b)();return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Trayectoria"),c.a.createElement(We,{setTrayectorias:n,initialTrayectoria:{id:0,grupo:0,nombreGrupo:"",rama:0,nombreRama:"",seccion:0,nombreSeccion:"",cargo:0,nombreCargo:"",anioIngreso:0,anioRetiro:0},authReducer:o}),c.a.createElement(Xe,{trayectorias:t,setTrayectorias:n}),c.a.createElement("button",{onClick:function(){a(1)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Anterior"),"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S();var e=Object(ee.a)(Object(ee.a)({},r),{},{trayectoria:t});q("".concat("/").concat("api/usuario"),"PUT",e,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){G(),w("Usuario modificado con exito",(function(){i.replace("/")}))})):_(e,u)})).catch((function(e){_(e,u)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Finalizar"))},Je=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e})).authReducer,t=Object(n.useState)([]),r=Object(i.a)(t,2),o=r[0],u=r[1],m=Object(n.useState)(1),s=Object(i.a)(m,2),E=s[0],f=s[1],v=Object(n.useState)(),b=Object(i.a)(v,2),h=b[0],g=b[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(),t.next=3,R("".concat("/").concat("api/usuario","/").concat(null===a||void 0===a?void 0:a.usuario),null===a||void 0===a?void 0:a.token).then((function(e){return G(),e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){void 0!=e&&(g(e),u(e.trayectoria))})).catch((function(a){_(a,e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"container mt-2"},1===E&&void 0!=h&&c.a.createElement(ie,{setWizard:f,usuario:h,setUsuario:g,formType:"UP",authReducer:a}),2===E&&void 0!=h&&c.a.createElement(Ye,{setWizard:f,trayectorias:o,setTrayectorias:u,usuario:h,authReducer:a}))},He=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container mt-2"},c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/grupo",component:De}),c.a.createElement(m.b,{exact:!0,path:"/rama",component:ze}),c.a.createElement(m.b,{exact:!0,path:"/seccion",component:Ve}),c.a.createElement(m.b,{exact:!0,path:"/cargo/type/:typecargo/id/:typeId",component:we}),c.a.createElement(m.b,{exact:!0,path:"/anecdota",component:Re}),c.a.createElement(m.b,{exact:!0,path:"/anecdota-listado",component:Oe}),c.a.createElement(m.b,{exact:!0,path:"/usuario-update",component:Je}),c.a.createElement(m.b,{exact:!0,path:"/",component:Le}),c.a.createElement(m.a,{to:"/"}))))},Ze=function(e){return{type:j,payload:e}},$e=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e})).authReducer,t=Object(n.useState)(!1),r=Object(i.a)(t,2),o=r[0],s=r[1];return Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.usuario)?(s(!0),L()):localStorage.getItem("usuario")&&localStorage.getItem("token")&&localStorage.getItem("tipoUsuario")?e({type:E,payload:{usuario:localStorage.getItem("usuario"),token:localStorage.getItem("token"),tipoUsuario:localStorage.getItem("tipoUsuario")}}):s(!1),e(F()),e(M()),e(B()),e(function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,R("".concat("/").concat("api/cargo")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(a,t){return t({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var a,n,c;t.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion,idGrupo:null===(a=e.grupo)||void 0===a?void 0:a.id,idRama:null===(n=e.rama)||void 0===n?void 0:n.id,idSeccion:null===(c=e.seccion)||void 0===c?void 0:c.id})}))})).catch((function(e){_(e,a)}));case 3:a(Ze(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[a,s]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(Z,null),c.a.createElement("div",null,c.a.createElement(m.d,null,!o&&c.a.createElement(me,null),o&&c.a.createElement(He,null),c.a.createElement(m.a,{to:"/auth/login"})))))},ea=t(19),aa=t(37),ta={cargos:[]},na={grupos:[]},ca={ramas:[]},ra={secciones:[]},oa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ea.d,la=Object(ea.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return{usuario:a.payload.usuario,token:a.payload.token,tipoUsuario:a.payload.tipoUsuario};case f:return{};default:return e}},grupoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return Object(ee.a)(Object(ee.a)({},e),{},{grupos:Object(ke.a)(a.payload)});case b:return{};default:return e}},ramaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return Object(ee.a)(Object(ee.a)({},e),{},{ramas:Object(ke.a)(a.payload)});case g:return{};default:return e}},seccionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return Object(ee.a)(Object(ee.a)({},e),{},{secciones:Object(ke.a)(a.payload)});case O:return{};default:return e}},cargoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case j:return Object(ee.a)(Object(ee.a)({},e),{},{cargos:Object(ke.a)(a.payload)});case C:return{};default:return e}}}),ia=Object(ea.e)(la,oa(Object(ea.a)(aa.a))),ua=function(){return c.a.createElement(l.a,{store:ia},c.a.createElement($e,null))};t(56);o.a.render(c.a.createElement(ua,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a1b89e0c.chunk.js.map