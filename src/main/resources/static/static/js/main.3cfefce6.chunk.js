(this["webpackJsonpfront-librodeoro"]=this["webpackJsonpfront-librodeoro"]||[]).push([[0],{36:function(e,t,a){e.exports=a(53)},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),l=a(1),i=a(3),u=a(10),m=a(9),s=a(6),d=a.n(s),p=a(12),f="[Auth] Login",E="[Auth] Logout",v="[Grupos] Load grupos",b="[Grupos] Remove grupos",g="[Ramas] Load ramas",h="[Ramas] Remove ramas",N="[Secciones] Load secciones",O="[Secciones] Remove secciones",j="[Cargos] Load cargos",C="[Cargos] Remove cargos",y=a(54),R=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=a(18),A=a.n(k),S=function(){A.a.fire({title:"Cargando...",text:"Espere un momento...",allowOutsideClick:!1,onBeforeOpen:function(){A.a.showLoading()}})},x=function(e){A.a.fire("Error",e,"error")},w=function(e){A.a.fire("\xc9xito",e,"success")},G=function(e,t){A.a.fire({title:"\xc9xito",text:e,icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then((function(e){e.isConfirmed&&t()}))},T=function(){A.a.close()},_=function(e,t){A.a.fire({title:"\xbfEsta seguro?",text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&t()}))},I=function(e,t){var a,n;D()&&(P(),T(),e.status&&e.status===y.a.FORBIDDEN?(a="La session ha expirado, por favor vuelva a iniciar sesion",n=function(){t(V()),L()},A.a.fire({title:"Cuidado!",html:a,timer:3e3,timerProgressBar:!0,willOpen:function(){A.a.showLoading()},onClose:function(){n(),clearInterval(void 0)}})):e.status?e.text().then((function(e){x(e),L()})):(x(e),L()))},D=function(){var e=localStorage.getItem("activeWarningFunc");return null===e||"I"===e},P=function(){localStorage.setItem("activeWarningFunc","A")},L=function(){localStorage.setItem("activeWarningFunc","I")},U=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,R("".concat("/").concat("api/grupo")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){a.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion})}))})).catch((function(e){I(e,t)}));case 3:t(M(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return{type:v,payload:e}},F=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,R("".concat("/").concat("api/rama")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var t,n;a.push({id:e.id,nombre:e.nombre,edadMinima:e.edadMinima,edadMaxima:e.edadMaxima,descripcion:e.descripcion,idGrupo:null===(t=e.grupo)||void 0===t?void 0:t.id,nombreGrupo:null===(n=e.grupo)||void 0===n?void 0:n.nombre})}))})).catch((function(e){I(e,t)}));case 3:t(z(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(e){return{type:g,payload:e}},B=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,R("".concat("/").concat("api/seccion")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var t,n,c,r,o,l;a.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion,idRama:null===(t=e.rama)||void 0===t?void 0:t.id,nombreRama:null===(n=e.rama)||void 0===n?void 0:n.nombre,idGrupo:null===(c=e.rama)||void 0===c||null===(r=c.grupo)||void 0===r?void 0:r.id,nombreGrupo:null===(o=e.rama)||void 0===o||null===(l=o.grupo)||void 0===l?void 0:l.nombre})}))})).catch((function(e){I(e,t)}));case 3:t(K(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(e){return{type:N,payload:e}},q=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:a,headers:{"Content-Type":"application/json",Authorization:c},body:n?JSON.stringify(n):void 0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),V=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:b}),t({type:h}),t({type:O}),t(W()),Y();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=function(){return{type:E}},Q=function(e){return{type:f,payload:e}},X=function(e){localStorage.setItem("usuario",e.usuario),localStorage.setItem("token",e.token),localStorage.setItem("tipoUsuario",e.tipoUsuario)},Y=function(){localStorage.removeItem("usuario"),localStorage.removeItem("token"),localStorage.removeItem("tipoUsuario")},J=function(){var e=Object(l.b)();return c.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("span",{className:"nav-item nav-link text-info"}),c.a.createElement("button",{onClick:function(){e(V())},className:"nav-item nav-link btn"},"Cerrar Sesion")))},Z=function(e){var t=e.authReducer;return c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},c.a.createElement("ul",{className:"navbar-nav"},"AD"===t.tipoUsuario&&c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Mestros"),c.a.createElement("div",{className:"dropdown-menu background_libro_oro","aria-labelledby":"navbarDropdownMenuLink"},c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/grupo"},"Grupos"),c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/rama"},"Ramas"),c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/seccion"},"Seccion"))),"IN"===t.tipoUsuario&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement(u.c,{className:"nav-item nav-link",exact:!0,to:"/usuario-update"},"Usuario")),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Administracion de Anecdotas"),c.a.createElement("div",{className:"dropdown-menu background_libro_oro","aria-labelledby":"navbarDropdownMenuLink"},c.a.createElement(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/anecdota"},"Creacion de Anecdotas"))))))},H=function(){var e,t=null===(e=Object(l.c)((function(e){return e})))||void 0===e?void 0:e.authReducer;return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark background_libro_oro"},c.a.createElement(u.b,{className:"navbar-brand",to:"/"},"Libro de Oro Scouts"),(null===t||void 0===t?void 0:t.usuario)&&c.a.createElement(Z,{authReducer:t}),(null===t||void 0===t?void 0:t.usuario)&&c.a.createElement(J,null))},$=a(26),ee=a(8),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(i.a)(t,2),c=a[0],r=a[1],o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)},l=function(e){var t=e.target;r(Object(ee.a)(Object(ee.a)({},c),{},Object($.a)({},t.name,t.value)))},u=function(e){e&&r(e)};return[c,l,u,o]},ae=function(){var e=Object(m.g)(),t=Object(l.b)(),a=te({usuario:"",contrasena:""}),n=Object(i.a)(a,2),r=n[0],o=n[1];return c.a.createElement("div",{className:"row m-5 justify-content-center align-items-center"},c.a.createElement("div",{className:"col-sm-6 col-md-4 col-md-offset-4"},c.a.createElement("div",{className:"account-wall"},c.a.createElement("img",{className:"profile-img",src:"https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120",alt:""}),c.a.createElement("form",{className:"form-signin"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"usuario",value:r.usuario,onChange:o}),c.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"contrasena",value:r.contrasena,onChange:o}),c.a.createElement("button",{onClick:function(e){var a,n;e.preventDefault(),t((a=r.usuario,n=r.contrasena,function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,q("".concat("/").concat("api/auth"),"POST",{usuario:a,contrasena:n}).then((function(e){e.status===y.a.OK?e.json().then((function(e){T(),t(Q(e)),X(e)})):I(e,t)})).catch((function(e){I(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:"btn btn-lg btn-primary btn-block"}," Acceder ")),c.a.createElement("a",{onClick:function(){e.replace("/usuario-create")},className:"text-center new-account"},"Crear un Usuario "))))},ne=(a(47),function(){return c.a.createElement("div",{className:"content h-100 animate__animated animate__slideInLeft"},c.a.createElement(ae,null))}),ce=a(4),re=a(5),oe=function(e){var t=e.formValues,a=Object(m.g)(),n=Object(l.b)();return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return a.replace("/auth/login")},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Login"),"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario"),"POST",t).then((function(e){e.status===y.a.CREATED?e.json().then((function(){T(),G("Usuario creado con exito, intente ingresar desde la pantalla login.",(function(){a.replace("/auth/login")}))})):I(e,n)})).catch((function(e){I(e,n)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar"))},le=function(e){var t=e.setWizard,a=e.setUsuario,n=e.formValues,r=e.authReducer,o=Object(l.b)();return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario","/validate"),"POST",n,null===r||void 0===r?void 0:r.token).then((function(e){e.status===y.a.OK?e.json().then((function(e){T(),e.valid&&(t(2),a(Object(ee.a)({},n)))})):I(e,o)})).catch((function(e){I(e,o)}))},className:"btn btn-primary"},"Siguiente ",c.a.createElement(ce.a,{icon:re.b})))},ie=function(e){var t=e.setWizard,a=e.usuario,n=e.setUsuario,r=e.formType,o=e.authReducer,l=te(a),u=Object(i.a)(l,2),m=u[0],s=u[1],d=function(e){return m.tipoIntegrante===e};return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Informacion General"),c.a.createElement("hr",null),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Nombres"),c.a.createElement("input",{type:"text",name:"nombres",className:"form-control",value:m.nombres,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Apellidos"),c.a.createElement("input",{type:"text",name:"apellidos",className:"form-control",value:m.apellidos,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Correo"),c.a.createElement("input",{type:"text",name:"correo",className:"form-control",value:m.correo,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Telefono"),c.a.createElement("input",{type:"text",name:"telefono",className:"form-control",value:m.telefono,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Tipo Integrante"),c.a.createElement("div",null,c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"tipoIntegrante",value:"AC",onChange:s,checked:d("AC")}),c.a.createElement("label",{className:"form-check-label"},"Activo")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"tipoIntegrante",value:"EX",onChange:s,checked:d("EX")}),c.a.createElement("label",{className:"form-check-label"},"Ex-integrante"))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Direccion"),c.a.createElement("input",{type:"text",name:"direccion",className:"form-control",value:m.direccion,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Ciudad"),c.a.createElement("input",{type:"text",name:"ciudad",className:"form-control",value:m.ciudad,onChange:s})),"CR"===r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Usuario"),c.a.createElement("input",{type:"text",name:"usuario",className:"form-control",value:m.usuario,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Contrase\xf1a"),c.a.createElement("input",{type:"password",name:"contrasena",className:"form-control",value:m.contrasena,onChange:s})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Confirmar Contrase\xf1a"),c.a.createElement("input",{type:"password",name:"confirmContrasena",className:"form-control",value:m.confirmContrasena,onChange:s}))))),"CR"===r&&c.a.createElement(oe,{formValues:m}),"UP"===r&&c.a.createElement(le,{setWizard:t,setUsuario:n,formValues:m,authReducer:o}))},ue=function(){var e={usuario:"",contrasena:"",confirmContrasena:"",nombres:"",apellidos:"",tipoIntegrante:"",correo:"",telefono:"",direccion:"",ciudad:"",tipoUsuario:"IN"};return c.a.createElement("div",{className:"container mt-2"},c.a.createElement(ie,{usuario:e,formType:"CR"}))},me=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/auth/login",component:ne}),c.a.createElement(m.b,{exact:!0,path:"/usuario-create",component:ue}),c.a.createElement(m.a,{to:"/auth/login"})))},se=a(34),de=a.n(se),pe=function(e,t){return e.filter((function(e){return e.id!==t}))},fe=function(e,t){return e.filter((function(e){return e.id==t}))},Ee=function(e,t){return e.filter((function(e){return e.idGrupo==t}))},ve=function(e,t){return e.filter((function(e){return e.idRama==t}))},be=function(e,t,a,n){return e.filter((function(e){return e.idGrupo==t||e.idRama==a||e.idSeccion==n}))},ge=function(){var e=Object(m.g)(),t=Object(l.b)(),a=Object(l.c)((function(e){return e})),r=a.grupoReducer.grupos,o=a.ramaReducer.ramas,u=a.seccionReducer.secciones,s=a.authReducer,d=s.usuario,p=s.token,f=Object(n.useState)([]),E=Object(i.a)(f,2),v=E[0],b=E[1],g=Object(n.useState)([]),h=Object(i.a)(g,2),N=h[0],O=h[1],j=te({}),C=Object(i.a)(j,3),R=C[0],k=C[1];C[2];Object(n.useEffect)((function(){b(Ee(o,R.grupo))}),[R.grupo]),Object(n.useEffect)((function(){O(ve(u,R.rama))}),[R.rama]);var A=function(e){return R&&R.grupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"grupo",className:"form-control",onChange:k},c.a.createElement("option",{value:"0",selected:A(0)},"Seleccione un grupo"),r&&r.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:A(e.id)},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"rama",className:"form-control",onChange:k},c.a.createElement("option",{value:"0"},"Seleccione una rama"),v&&v.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("label",null,"Seccion"),c.a.createElement("select",{name:"seccion",className:"form-control",onChange:k},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),N&&N.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:R.nombre,onChange:k}),c.a.createElement("label",null,"Fecha"),c.a.createElement("input",{type:"date",name:"fecha",className:"form-control",value:R.fecha,onChange:k}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:R.descripcion,onChange:k})),c.a.createElement("div",{className:"col-6"})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{onClick:function(){S();var a=Object(ee.a)(Object(ee.a)({},R),{},{fecha:de()(R.fecha).format("DD/MM/YYYY"),usuario:d});q("".concat("/").concat("api/anecdota"),"POST",a,p).then((function(a){a.status===y.a.CREATED?a.json().then((function(){T(),G("Anecdota creada exitosamente. La anecdota entra en estado <b>PENDIENTE DE APROBACION</b>",(function(){e.replace("/")}))})):I(a,t)})).catch((function(e){I(e,t)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},he=function(){return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Anecdota"),c.a.createElement(ge,null))},Ne=a(14),Oe=function(e){var t=e.setCargos,a=e.cargoActive,r=e.setCargoActive,o=e.typecargo,u=e.typeId,s=e.initialCargo,d=Object(m.g)(),p=Object(l.b)(),f=Object(l.c)((function(e){return e})).authReducer,E=te(s),v=Object(i.a)(E,4),b=v[0],g=v[1],h=v[2],N=v[3];Object(n.useEffect)((function(){a.id&&h(a)}),[a]);var O=function(){q("".concat("/").concat("api/cargo","/type/").concat(o,"/id/").concat(u),"POST",b,null===f||void 0===f?void 0:f.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(e){t((function(t){return[e].concat(Object(Ne.a)(t))})),T(),w("Cargo creado con exito"),C()})):I(e,p)})).catch((function(e){I(e,p)}))},j=function(e){q("".concat("/").concat("api/cargo","/").concat(e),"PUT",b,null===f||void 0===f?void 0:f.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(e){t((function(t){return[e].concat(Object(Ne.a)(pe(t,e.id)))})),T(),w("Cargo actualizado con exito"),C()})):I(e,p)})).catch((function(e){I(e,p)}))},C=function(){r(s),N(s)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:b.nombre,onChange:g}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:b.descripcion,onChange:g})),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){switch(o){case"GR":d.replace("/grupo");break;case"RA":d.replace("/rama");break;case"SE":d.replace("/seccion")}},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Volver"),"\xa0\xa0",c.a.createElement("button",{onClick:C,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===b.id?O():j(b.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},je=function(e){var t=e.cargo,a=e.setCargos,n=e.setCargoActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer;return c.a.createElement("tr",null,c.a.createElement("td",null,t.nombre),c.a.createElement("td",null,t.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(t)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){_("Quiere eliminar el cargo ".concat(t.nombre),(function(){S(),q("".concat("/").concat("api/cargo","/").concat(t.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(a((function(e){return pe(e,t.id)})),T(),w("Cargo eliminado con exito")):I(e,r)})).catch((function(e){I(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.g})))))},Ce=function(e){var t=e.cargos,a=e.setCargos,r=e.setCargoActive,o=e.typecargo,i=e.typeId,u=Object(l.b)(),m=Object(l.c)((function(e){return e})).authReducer,s=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("".concat("/").concat("api/cargo","/type/").concat(o,"/id/").concat(i),null===m||void 0===m?void 0:m.token).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){e.length>0&&a(e)})).catch((function(e){I(e,u)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(je,{key:e.id,cargo:e,setCargos:a,setCargoActive:r})})))))},ye=function(){var e,t,a,r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],s=o[1],d=Object(n.useState)({}),p=Object(i.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),g=b[0],h=b[1],N=Object(n.useState)({}),O=Object(i.a)(N,2),j=O[0],C=O[1],y=Object(m.h)(),R=y.typecargo,k=y.typeId,A=null===(e=Object(l.c)((function(e){return e})))||void 0===e?void 0:e.grupoReducer,S=null===(t=Object(l.c)((function(e){return e})))||void 0===t?void 0:t.ramaReducer,x=null===(a=Object(l.c)((function(e){return e})))||void 0===a?void 0:a.seccionReducer;return Object(n.useEffect)((function(){var e=null===A||void 0===A?void 0:A.grupos;e.length>0&&"GR"===R&&(h("Cargos del grupo: "),C(fe(e,k)[0]))}),[A]),Object(n.useEffect)((function(){var e=null===S||void 0===S?void 0:S.ramas;e.length>0&&"RA"===R&&(h("Cargos de la rama: "),C(fe(e,k)[0]))}),[S]),Object(n.useEffect)((function(){var e=null===x||void 0===x?void 0:x.secciones;e.length>0&&"SE"===R&&(h("Cargos de la seccion: "),C(fe(e,k)[0]))}),[x]),c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("p",{style:{fontSize:"37px"}},c.a.createElement("b",null,g)," ",j.nombre),c.a.createElement("hr",null),c.a.createElement(Oe,{setCargos:s,cargoActive:f,setCargoActive:E,typecargo:R,typeId:k,initialCargo:{id:0,nombre:"",descripcion:""}}),c.a.createElement(Ce,{cargos:u,setCargos:s,setCargoActive:E,typecargo:R,typeId:k}))},Re=function(e){var t=e.grupoActive,a=e.setGrupoActive,r=e.initialGrupo,o=Object(l.b)(),u=Object(l.c)((function(e){return e})).authReducer,m=te(r),s=Object(i.a)(m,4),d=s[0],p=s[1],f=s[2],E=s[3];Object(n.useEffect)((function(){t.id&&f(t)}),[t]);var v=function(){q("".concat("/").concat("api/grupo"),"POST",d,null===u||void 0===u?void 0:u.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){T(),w("Grupo creado con exito"),o(U()),g()})):I(e,o)})).catch((function(e){I(e,o)}))},b=function(e){q("".concat("/").concat("api/grupo","/").concat(e),"PUT",d,null===u||void 0===u?void 0:u.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(e){T(),w("Grupo actualizado con exito"),o(U()),g()})):I(e,o)})).catch((function(e){I(e,o)}))},g=function(){a(r),E(r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:d.nombre,onChange:p}),c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:d.descripcion,onChange:p})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{onClick:g,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===d.id?v():b(d.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},ke=a(2),Ae=a.n(ke),Se=function(e){var t=e.grupo,a=e.setGrupos,n=e.setGrupoActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,t.nombre),c.a.createElement("td",null,t.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(t)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){_("Quiere eliminar el grupo ".concat(t.nombre),(function(){S(),q("".concat("/").concat("api/grupo","/").concat(t.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(a((function(e){return pe(e,t.id)})),T(),w("Grupo eliminado con exito"),r(U())):I(e,r)})).catch((function(e){I(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.g})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("GR","/id/").concat(t.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.h})))))};Se.prototype={grupo:Ae.a.object.isRequired,setGrupos:Ae.a.func.isRequired,setGrupoActive:Ae.a.func.isRequired};var xe=function(e){var t=e.grupos,a=e.setGrupos,r=e.setGrupoActive,o=Object(l.c)((function(e){return e})).grupoReducer;return Object(n.useEffect)((function(){a(null===o||void 0===o?void 0:o.grupos)}),[o]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(Se,{key:e.id,grupo:e,setGrupos:a,setGrupoActive:r})})))))},we=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),u=l[0],m=l[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Grupos"),c.a.createElement("hr",null),c.a.createElement(Re,{grupoActive:u,setGrupoActive:m,initialGrupo:{id:0,nombre:"",descripcion:""}}),c.a.createElement(xe,{grupos:a,setGrupos:r,setGrupoActive:m}))},Ge=function(e){var t=e.ramaActive,a=e.setRamaActive,r=e.initialRama,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.authReducer,d=te(r),p=Object(i.a)(d,4),f=p[0],E=p[1],v=p[2],b=p[3];Object(n.useEffect)((function(){t.id&&v(t)}),[t]);var g=function(){q("".concat("/").concat("api/rama","/grupo/").concat(f.idGrupo),"POST",f,null===s||void 0===s?void 0:s.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){T(),w("Rama creada con exito"),o(F()),N()})):I(e,o)})).catch((function(e){I(e,o)}))},h=function(e){q("".concat("/").concat("api/rama","/").concat(e),"PUT",f,null===s||void 0===s?void 0:s.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){T(),w("Rama actualizada con exito"),o(F()),N()})):I(e,o)})).catch((function(e){I(e,o)}))},N=function(){a(r),b(r)},O=function(e){return f&&f.idGrupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"idGrupo",className:"form-control",onChange:E},c.a.createElement("option",{value:"0",selected:O(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:O(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:f.nombre,onChange:E}))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",null,"Edad Minima"),c.a.createElement("input",{type:"number",name:"edadMinima",className:"form-control",value:f.edadMinima,onChange:E})),c.a.createElement("div",{className:"col-3"},c.a.createElement("label",null,"Edad Maxima"),c.a.createElement("input",{type:"number",name:"edadMaxima",className:"form-control",value:f.edadMaxima,onChange:E}))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:f.descripcion,onChange:E})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:N,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===f.id?g():h(f.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Te=function(e){var t=e.rama,a=e.setRamas,n=e.setRamaActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,t.nombreGrupo),c.a.createElement("td",null,t.nombre),c.a.createElement("td",null,t.edadMinima),c.a.createElement("td",null,t.edadMaxima),c.a.createElement("td",null,t.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(t)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){_("Quiere eliminar la rama ".concat(t.nombre),(function(){S(),q("".concat("/").concat("api/rama","/").concat(t.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(a((function(e){return pe(e,t.id)})),T(),w("Rama eliminada con exito"),r(F())):I(e,r)})).catch((function(e){I(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.g})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("RA","/id/").concat(t.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.h})))))};Te.prototype={rama:Ae.a.object.isRequired,setRamas:Ae.a.func.isRequired,setRamaActive:Ae.a.func.isRequired};var _e=function(e){var t=e.ramas,a=e.setRamas,r=e.setRamaActive,o=Object(l.c)((function(e){return e})).ramaReducer;return Object(n.useEffect)((function(){a(null===o||void 0===o?void 0:o.ramas)}),[o]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Edad Minima"),c.a.createElement("th",{scope:"col"},"Edad Maxima"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(Te,{key:e.id,rama:e,setRamas:a,setRamaActive:r})})))))},Ie=function(){var e={id:0,nombre:"",edadMinima:0,edadMaxima:0,descripcion:"",idGrupo:0,nombreGrupo:""},t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(e),u=Object(i.a)(l,2),m=u[0],s=u[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Ramas"),c.a.createElement("hr",null),c.a.createElement(Ge,{ramaActive:m,setRamaActive:s,initialRama:e}),c.a.createElement(_e,{ramas:r,setRamas:o,setRamaActive:s}))},De=function(e){var t=e.seccionActive,a=e.setSeccionActive,r=e.initialSeccion,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.ramaReducer.ramas,d=u.authReducer,p=Object(n.useState)([]),f=Object(i.a)(p,2),E=f[0],v=f[1],b=te(r),g=Object(i.a)(b,4),h=g[0],N=g[1],O=g[2],j=g[3];Object(n.useEffect)((function(){v(Ee(s,h.idGrupo))}),[h.idGrupo]),Object(n.useEffect)((function(){t.id&&O(t)}),[t]);var C=function(){q("".concat("/").concat("api/seccion","/rama/").concat(h.idRama),"POST",h,null===d||void 0===d?void 0:d.token).then((function(e){e.status===y.a.CREATED?e.json().then((function(){T(),w("Seccion creada con exito"),o(B()),k()})):I(e,o)})).catch((function(e){I(e,o)}))},R=function(e){q("".concat("/").concat("api/seccion","/").concat(e),"PUT",h,null===d||void 0===d?void 0:d.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){T(),w("Seccion actualizada con exito"),o(B()),k()})):I(e,o)})).catch((function(e){I(e,o)}))},k=function(){a(r),j(r)},A=function(e){return h&&h.idGrupo===e?"selected":""},x=function(e){return h&&h.idRama===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"idGrupo",className:"form-control",onChange:N},c.a.createElement("option",{value:"0",selected:A(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:A(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"idRama",className:"form-control",onChange:N},c.a.createElement("option",{value:"0",selected:x(0)},"Seleccione una rama"),E&&E.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:x(e.id)},e.nombre)}))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Nombre"),c.a.createElement("input",{type:"text",name:"nombre",className:"form-control",value:h.nombre,onChange:N})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Descripcion"),c.a.createElement("textarea",{name:"descripcion",className:"form-control",value:h.descripcion,onChange:N})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:k,className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.c})," Limpiar"),"\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),0===h.id?C():R(h.id)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Guardar")))},Pe=function(e){var t=e.seccion,a=e.setSecciones,n=e.setSeccionActive,r=Object(l.b)(),o=Object(l.c)((function(e){return e})).authReducer,i=Object(m.g)();return c.a.createElement("tr",null,c.a.createElement("td",null,t.nombreGrupo),c.a.createElement("td",null,t.nombreRama),c.a.createElement("td",null,t.nombre),c.a.createElement("td",null,t.descripcion),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-2",onClick:function(){n(t)},title:"Editar"},c.a.createElement(ce.a,{icon:re.d})),c.a.createElement("div",{className:"col-2",onClick:function(){_("Quiere eliminar la seccion ".concat(t.nombre),(function(){S(),q("".concat("/").concat("api/seccion","/").concat(t.id),"DELETE",void 0,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?(a((function(e){return pe(e,t.id)})),T(),w("Seccion eliminada con exito"),r(B())):I(e,r)})).catch((function(e){I(e,r)}))}))},title:"Eliminar"},c.a.createElement(ce.a,{icon:re.g})),c.a.createElement("div",{className:"col-2",onClick:function(){i.replace("/cargo/type/".concat("SE","/id/").concat(t.id))},title:"Ver cargos"},c.a.createElement(ce.a,{icon:re.h})))))};Pe.prototype={seccion:Ae.a.object.isRequired,setSecciones:Ae.a.func.isRequired,setSeccionActive:Ae.a.func.isRequired};var Le=function(e){var t,a=e.secciones,r=e.setSecciones,o=e.setSeccionActive,i=null===(t=Object(l.c)((function(e){return e})))||void 0===t?void 0:t.seccionReducer;return Object(n.useEffect)((function(){r(null===i||void 0===i?void 0:i.secciones)}),[i]),c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Rama"),c.a.createElement("th",{scope:"col"},"Nombre"),c.a.createElement("th",{scope:"col"},"Descripcion"),c.a.createElement("th",{scope:"col"},"Acciones"))),c.a.createElement("tbody",null,a&&a.map((function(e){return c.a.createElement(Pe,{key:e.id,seccion:e,setSecciones:r,setSeccionActive:o})})))))},Ue=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),u=l[0],m=l[1];return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Secciones"),c.a.createElement("hr",null),c.a.createElement(De,{seccionActive:u,setSeccionActive:m,initialSeccion:{id:0,nombre:"",descripcion:"",idRama:0,nombreRama:"",idGrupo:0,nombreGrupo:""}}),c.a.createElement(Le,{secciones:a,setSecciones:r,setSeccionActive:m}))},Me=function(e){var t=e.setTrayectorias,a=e.initialTrayectoria,r=e.authReducer,o=Object(l.b)(),u=Object(l.c)((function(e){return e})),m=u.grupoReducer.grupos,s=u.ramaReducer.ramas,d=u.seccionReducer.secciones,p=u.cargoReducer.cargos,f=Object(n.useState)([]),E=Object(i.a)(f,2),v=E[0],b=E[1],g=Object(n.useState)([]),h=Object(i.a)(g,2),N=h[0],O=h[1],j=Object(n.useState)([]),C=Object(i.a)(j,2),R=C[0],k=C[1],A=te(a),x=Object(i.a)(A,3),w=x[0],G=x[1],_=x[2];Object(n.useEffect)((function(){b(Ee(s,w.grupo)),k(be(p,w.grupo,w.rama,w.seccion))}),[w.grupo]),Object(n.useEffect)((function(){O(ve(d,w.rama)),k(be(p,w.grupo,w.rama,w.seccion))}),[w.rama]),Object(n.useEffect)((function(){k(be(p,w.grupo,w.rama,w.seccion))}),[w.seccion]);var D=function(){t((function(e){var t,a,n,c;return[Object(ee.a)(Object(ee.a)({},w),{},{id:e.length+1,nombreGrupo:null===(t=fe(m,w.grupo)[0])||void 0===t?void 0:t.nombre,nombreRama:null===(a=fe(s,w.rama)[0])||void 0===a?void 0:a.nombre,nombreSeccion:null===(n=fe(d,w.seccion)[0])||void 0===n?void 0:n.nombre,nombreCargo:null===(c=fe(p,w.cargo)[0])||void 0===c?void 0:c.nombre})].concat(Object(Ne.a)(e))})),_(a)},P=function(e){return w&&w.grupo===e?"selected":""};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Grupo"),c.a.createElement("select",{name:"grupo",className:"form-control",onChange:G},c.a.createElement("option",{value:"0",selected:P(0)},"Seleccione un grupo"),m&&m.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id,selected:P(e.id)},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Rama"),c.a.createElement("select",{name:"rama",className:"form-control",onChange:G},c.a.createElement("option",{value:"0"},"Seleccione una rama"),v&&v.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"Seccion"),c.a.createElement("select",{name:"seccion",className:"form-control",onChange:G},c.a.createElement("option",{value:"0"},"Seleccione una seccion"),N&&N.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",null,c.a.createElement("label",null,"Cargo"),c.a.createElement("select",{name:"cargo",className:"form-control",onChange:G},c.a.createElement("option",{value:"0"},"Seleccione un grupo"),R&&R.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"A\xf1o Ingreso"),c.a.createElement("input",{type:"number",name:"anioIngreso",className:"form-control",value:w.anioIngreso,onChange:G})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("label",null,"A\xf1o Retiro"),c.a.createElement("input",{type:"number",name:"anioRetiro",className:"form-control",value:w.anioRetiro,onChange:G})))),c.a.createElement("div",{className:"row mt-2"},"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S(),q("".concat("/").concat("api/usuario","/trayectoria/validate"),"POST",w,null===r||void 0===r?void 0:r.token).then((function(e){e.status===y.a.OK?e.json().then((function(){T(),D()})):I(e,o)})).catch((function(e){I(e,o)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.e})," Agregar")))},Fe=function(e){var t=e.trayectoria,a=e.setTrayectorias;return c.a.createElement("tr",null,c.a.createElement("td",null,t.nombreGrupo),c.a.createElement("td",null,t.nombreRama),c.a.createElement("td",null,t.nombreSeccion),c.a.createElement("td",null,t.nombreCargo),c.a.createElement("td",null,t.anioIngreso),c.a.createElement("td",null,t.anioRetiro),c.a.createElement("td",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{onClick:function(){a((function(e){return pe(e,t.id)}))},className:"col-2",title:"Eliminar"},c.a.createElement(ce.a,{icon:re.g})))))},ze=function(e){var t=e.trayectorias,a=e.setTrayectorias;return c.a.createElement("div",{className:"mt-3"},c.a.createElement("table",{className:"table table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"background_libro_oro"},c.a.createElement("th",{scope:"col"},"Grupo"),c.a.createElement("th",{scope:"col"},"Rama"),c.a.createElement("th",{scope:"col"},"Seccion"),c.a.createElement("th",{scope:"col"},"Cargo"),c.a.createElement("th",{scope:"col"},"A\xf1o Ingreso"),c.a.createElement("th",{scope:"col"},"A\xf1o Retiro"),c.a.createElement("th",{scope:"col"},"Retirar"))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(Fe,{key:e.id,trayectoria:e,setTrayectorias:a})})))))},Be=function(e){var t=e.setWizard,a=e.trayectorias,n=e.setTrayectorias,r=e.usuario,o=e.authReducer,i=Object(m.g)(),u=Object(l.b)();return c.a.createElement("div",{className:"content animate__animated animate__slideInLeft"},c.a.createElement("h1",null,"Trayectoria"),c.a.createElement(Me,{setTrayectorias:n,initialTrayectoria:{id:0,grupo:0,nombreGrupo:"",rama:0,nombreRama:"",seccion:0,nombreSeccion:"",cargo:0,nombreCargo:"",anioIngreso:0,anioRetiro:0},authReducer:o}),c.a.createElement(ze,{trayectorias:a,setTrayectorias:n}),c.a.createElement("button",{onClick:function(){t(1)},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.a})," Anterior"),"\xa0\xa0\xa0",c.a.createElement("button",{onClick:function(){S();var e=Object(ee.a)(Object(ee.a)({},r),{},{trayectoria:a});q("".concat("/").concat("api/usuario"),"PUT",e,null===o||void 0===o?void 0:o.token).then((function(e){e.status===y.a.ACCEPTED?e.json().then((function(){T(),G("Usuario modificado con exito",(function(){i.replace("/")}))})):I(e,u)})).catch((function(e){I(e,u)}))},className:"btn btn-primary"},c.a.createElement(ce.a,{icon:re.f})," Finalizar"))},Ke=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})).authReducer,a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],u=r[1],m=Object(n.useState)(1),s=Object(i.a)(m,2),f=s[0],E=s[1],v=Object(n.useState)(),b=Object(i.a)(v,2),g=b[0],h=b[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){var a=Object(p.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return S(),a.next=3,R("".concat("/").concat("api/usuario","/").concat(null===t||void 0===t?void 0:t.usuario),null===t||void 0===t?void 0:t.token).then((function(e){return T(),e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){void 0!=e&&(h(e),u(e.trayectoria))})).catch((function(t){I(t,e)}));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"container mt-2"},1===f&&void 0!=g&&c.a.createElement(ie,{setWizard:E,usuario:g,setUsuario:h,formType:"UP",authReducer:t}),2===f&&void 0!=g&&c.a.createElement(Be,{setWizard:E,trayectorias:o,setTrayectorias:u,usuario:g,authReducer:t}))},qe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container mt-2"},c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/grupo",component:we}),c.a.createElement(m.b,{exact:!0,path:"/rama",component:Ie}),c.a.createElement(m.b,{exact:!0,path:"/seccion",component:Ue}),c.a.createElement(m.b,{exact:!0,path:"/cargo/type/:typecargo/id/:typeId",component:ye}),c.a.createElement(m.b,{exact:!0,path:"/anecdota",component:he}),c.a.createElement(m.b,{exact:!0,path:"/usuario-update",component:Ke}),c.a.createElement(m.a,{to:"/"}))))},Ve=function(e){return{type:j,payload:e}},We=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})).authReducer,a=Object(n.useState)(!1),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.usuario)?(s(!0),L()):localStorage.getItem("usuario")&&localStorage.getItem("token")&&localStorage.getItem("tipoUsuario")?e({type:f,payload:{usuario:localStorage.getItem("usuario"),token:localStorage.getItem("token"),tipoUsuario:localStorage.getItem("tipoUsuario")}}):s(!1),e(U()),e(F()),e(B()),e(function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,R("".concat("/").concat("api/cargo")).then((function(e){return e.status===y.a.OK?e.json():new Promise((function(t,a){return a({status:e.status})}))})).then((function(e){e.length>0&&e.forEach((function(e){var t,n,c;a.push({id:e.id,nombre:e.nombre,descripcion:e.descripcion,idGrupo:null===(t=e.grupo)||void 0===t?void 0:t.id,idRama:null===(n=e.rama)||void 0===n?void 0:n.id,idSeccion:null===(c=e.seccion)||void 0===c?void 0:c.id})}))})).catch((function(e){I(e,t)}));case 3:t(Ve(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t,s]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(H,null),c.a.createElement("div",null,c.a.createElement(m.d,null,!o&&c.a.createElement(me,null),o&&c.a.createElement(qe,null),c.a.createElement(m.a,{to:"/auth/login"})))))},Qe=a(19),Xe=a(35),Ye={cargos:[]},Je={grupos:[]},Ze={ramas:[]},He={secciones:[]},$e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.d,et=Object(Qe.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{usuario:t.payload.usuario,token:t.payload.token,tipoUsuario:t.payload.tipoUsuario};case E:return{};default:return e}},grupoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(ee.a)(Object(ee.a)({},e),{},{grupos:Object(Ne.a)(t.payload)});case b:return{};default:return e}},ramaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(ee.a)(Object(ee.a)({},e),{},{ramas:Object(Ne.a)(t.payload)});case h:return{};default:return e}},seccionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(ee.a)(Object(ee.a)({},e),{},{secciones:Object(Ne.a)(t.payload)});case O:return{};default:return e}},cargoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(ee.a)(Object(ee.a)({},e),{},{cargos:Object(Ne.a)(t.payload)});case C:return{};default:return e}}}),tt=Object(Qe.e)(et,$e(Object(Qe.a)(Xe.a))),at=function(){return c.a.createElement(l.a,{store:tt},c.a.createElement(We,null))};a(52);o.a.render(c.a.createElement(at,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3cfefce6.chunk.js.map